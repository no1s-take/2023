<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layout}"
>
  <head>
    <meta charset="UTF-8" th:remove="tag" />
  </head>
  <body>
    <div layout:fragment="content">
      <div
        th:if="${success}"
        th:text="${success}"
        class="alert alert-success"
        role="alert"
      ></div>
      <div
        th:if="${error}"
        th:text="${error}"
        class="alert alert-danger"
        role="alert"
      ></div>
      <h1 class="page-header">イベント詳細</h1>
      <table class="table table-striped" cellpadding="0" cellspacing="0">
        <thead class="bg-primary text-white">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">イベント名</th>
            <th scope="col">最大参加者数</th>
            <th scope="col">カテゴリ</th>
            <th scope="col">管理ユーザ</th>
            <th scope="col">作成日時</th>
            <th scope="col">更新日時</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td th:text="${event.id}"></td>
            <td th:text="${event.name}"></td>
            <td th:text="${event.maxParticipant}"></td>
            <td th:text="${event.category.name}"></td>
            <td th:text="${event.user.email}"></td>
            <td
              th:text="${#temporals.format(event.createdAt, 'yyyy年MM月dd日HH時mm分ss秒')}"
            ></td>
            <td
              th:text="${#temporals.format(event.modifiedAt, 'yyyy年MM月dd日HH時mm分ss秒')}"
            ></td>
          </tr>
        </tbody>
      </table>

      <div class="text-center container-fluid bg-info">
        <h1 class="p-3">現在の参加者数: [[${event.users.size()}]] 名</h1>
      </div>

      <div sec:authorize="!authenticated" class="text-center container-fluid">
        <a th:href="@{/users/login}" class="btn btn-primary">ログイン</a>
      </div>
    </div>
  </body>
</html>
