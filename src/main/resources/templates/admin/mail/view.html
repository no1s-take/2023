<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layout}"
>
  <head>
    <meta charset="UTF-8" th:remove="tag" />
  </head>
  <body>
    <div layout:fragment="content">
      <table class="table table-striped" cellpadding="0" cellspacing="0">
        <thead class="bg-primary text-white">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">イベント名</th>
            <th scope="col">最大参加者数</th>
            <th scope="col">カテゴリ</th>
            <th scope="col">管理ユーザ</th>
            <th scope="col">作成日時</th>
            <th scope="col">更新日時</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td th:text="${event.id}"></td>
            <td th:text="${event.name}"></td>
            <td th:text="${event.maxParticipant}"></td>
            <td th:text="${event.category.name}"></td>
            <td th:text="${event.user.email}"></td>
            <td
              th:text="${#temporals.format(event.createdAt, 'yyyy年MM月dd日HH時mm分ss秒')}"
            ></td>
            <td
              th:text="${#temporals.format(event.modifiedAt, 'yyyy年MM月dd日HH時mm分ss秒')}"
            ></td>
          </tr>
        </tbody>
      </table>
      <h1 th:text="メール送信" class="page-header"></h1>
      <form
        th:action="@{/admin/mail/{id}(id=${eventId})}"
        th:object="${mail}"
        method="post"
      >
        <ul
          th:if="${#fields.hasErrors()}"
          class="alert alert-danger"
          role="alert"
        >
          <li th:each="err : ${#fields.errors('*')}">
            <span th:text="${err}"></span>
          </li>
        </ul>
        <label>件名</label>
        <input class="form-control" type="text" th:field="*{subject}" />

        <label>本文</label>
        <textarea
          class="form-control"
          type="text"
          th:field="*{text}"
        ></textarea>

        <input class="mt-3 btn btn-primary" type="submit" th:value="送信" />
      </form>
    </div>
  </body>
</html>
